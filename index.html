<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FIK STORE</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      background: #f9f9f9;
      color: #333;
    }
    header {
      background: #0b60b0;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    header .logo {
      height: 100px;
    }
    header h1 {
      margin: 0.5rem 0 0.2rem;
    }
    header a {
      color: white;
      text-decoration: underline;
      display: inline-block;
      margin-top: 0.3rem;
    }
    main {
      padding: 1rem;
    }
    .produk {
      background: white;
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    .produk img {
      max-width: 100%;
      border-radius: 10px;
    }
    .produk h2 {
      margin-top: 0;
    }
    button {
      background: #0b60b0;
      color: white;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 0.5rem;
    }
    .checkout-box {
      margin-top: 1rem;
    }
    select, input[type="file"], input[type="text"], input[type="tel"] {
      width: 100%;
      padding: 0.5rem;
      margin: 0.5rem 0;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    #qris-img {
      width: 200px;
      display: none;
      margin: 1rem auto;
    }
    #download-qris {
      display: none;
      text-align: center;
    }
    footer {
      text-align: center;
      padding: 1rem;
      background: #eee;
      margin-top: 2rem;
      font-size: 0.9rem;
      color: #888;
    }

    /* Spinner Styles */
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    #loading-spinner {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(255, 255, 255, 0.8);
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #loading-spinner > div {
      border: 8px solid #f3f3f3;
      border-top: 8px solid #0b60b0;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      animation: spin 1s linear infinite;
    }
  </style>
</head>
<body>

<header>
  <img src="logo-fikstore.png" alt="FIK STORE Logo" class="logo">
  <h1>FIK STORE</h1>
  <a href="https://wa.me/6287734818302" target="_blank">Customer Service</a>
</header>

<main>
  <!-- Produk -->
  <!-- ... (semua produk dan checkout tetap seperti sebelumnya) ... -->

  <!-- Checkout Section (tetap seperti sebelumnya) -->
  <!-- ... -->
</main>

<!-- Spinner -->
<div id="loading-spinner"><div></div></div>

<footer>
  &copy; FIK STORE | FIK OFFICIAL
</footer>

<script>
  let produkDipilih = "";
  let perluPilihPaket = false;
  let paketTerpilih = "";

  function showCheckout(namaProduk, butuhPaket) {
    document.getElementById("checkout").style.display = "block";
    document.getElementById("produk-terpilih").innerText = "Produk: " + namaProduk;
    produkDipilih = namaProduk;
    perluPilihPaket = butuhPaket;

    document.getElementById("paket").style.display = butuhPaket ? "block" : "none";
    document.getElementById("paket").value = "";
    document.getElementById("metode-section").style.display = butuhPaket ? "none" : "block";
    document.getElementById("qris-img").style.display = "none";
    document.getElementById("download-qris").style.display = "none";
    document.getElementById("nomor-tujuan").style.display = "none";
    document.getElementById("total-pembayaran").innerText = !butuhPaket && namaProduk.includes("Admin Panel") ? "Total Pembayaran: Rp15.000"
      : !butuhPaket && namaProduk.includes("Reseller") ? "Total Pembayaran: Rp10.000"
      : "";

    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
  }

  function tampilPaket() {
    const paket = document.getElementById("paket").value;
    paketTerpilih = paket;
    const total = document.getElementById("total-pembayaran");

    if (paket !== "") {
      produkDipilih = "Bot WhatsApp - " + paket;
      document.getElementById("metode-section").style.display = "block";
      total.innerText = "Total Pembayaran: " + paket.split(" - ")[1];
    } else {
      document.getElementById("metode-section").style.display = "none";
      total.innerText = "";
    }
  }

  function tampilMetode() {
    const metode = document.getElementById("metode").value;
    const qrisImg = document.getElementById("qris-img");
    const qrisLink = document.getElementById("qris-link");

    let qrFile = "";

    if (produkDipilih.includes("5GB")) qrFile = "qr1.png";
    else if (produkDipilih.includes("6GB")) qrFile = "qr2.png";
    else if (produkDipilih.includes("7GB")) qrFile = "qr3.png";
    else if (produkDipilih.includes("8GB")) qrFile = "qr4.png";
    else if (produkDipilih.includes("9GB")) qrFile = "qr5.png";
    else if (produkDipilih.includes("10GB")) qrFile = "qr6.png";
    else if (produkDipilih.includes("Unlimited")) qrFile = "qr7.png";
    else if (produkDipilih.includes("Admin Panel")) qrFile = "qr_admin.png";
    else if (produkDipilih.includes("Reseller")) qrFile = "qr_reseller.png";

    if (metode === "qris") {
      qrisImg.src = qrFile;
      qrisImg.style.display = "block";
      qrisLink.href = qrFile;
      document.getElementById("download-qris").style.display = "block";
    } else {
      qrisImg.style.display = "none";
      document.getElementById("download-qris").style.display = "none";
    }

    document.getElementById("nomor-tujuan").style.display = (metode === "dana" || metode === "gopay") ? "block" : "none";
  }

  function kirimWhatsApp() {
    const nama = document.getElementById("nama").value;
    const nomor = document.getElementById("nomor").value;
    const metode = document.getElementById("metode").value;

    if (!nama || !nomor || !metode) {
      alert("Dimohon untuk isi semua data terlebih dahulu.");
      return;
    }

    const bukti = document.getElementById("bukti").files[0];
    if (!bukti) {
      alert("Dimohon untuk unggah bukti transfer terlebih dahulu.");
      return;
    }

    document.getElementById("loading-spinner").style.display = "flex";

    const metodeText = metode === "qris" ? "QRIS" : metode === "dana" ? "Dana (087811955247)" : "GoPay (087811955247)";
    const pesan = `Halo Admin, saya telah melakukan pembayaran.\n\nProduk: ${produkDipilih}\nNama: ${nama}\nNomor: ${nomor}\nPayment: ${metodeText}\n\nBerikut bukti transfer saya.`;

    const link = "https://wa.me/6287734818302?text=" + encodeURIComponent(pesan);

    setTimeout(() => {
      window.open(link, "_blank");
      document.getElementById("loading-spinner").style.display = "none";
    }, 1200);
  }
</script>

</body>
</html>
